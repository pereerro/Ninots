<html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=500, initial-scale=1">
        <link rel="stylesheet" type="text/css" href="ninots.css" />
        <script src="ninots.js"></script> 
        <script src="ninots_utilitats.js"></script> 
        <script src="ninots_edita.js"></script> 
        <script src="ninots_fantasmes.js"></script>
        <script>
            var ninots, ninots2;
            window.addEventListener('load', function() {
                ninots = new Ninots(document.getElementById('svg'));
                ninots.activa_edicio_esquema();
                document.getElementById('mou_phantom1').addEventListener('input', function(ev) {
                    Ninots.mouPhantoms(ninots, ev.target.value); 
                });
                document.getElementById('mou_auto1').addEventListener('change', function(ev) {
                    if (ev.target.checked) ninots.startPhantoms(); else ninots.stopPhantoms();
                });
                document.getElementById('edit1').addEventListener('change', function(ev) {
                    if (ev.target.checked) ninots.activa_edicio_esquema(); else ninots.desactiva_edicio_esquema();
                });

                ninots2 = new Ninots(document.getElementById('svg2'));
                ninots2.activa_edicio_esquema();
                document.getElementById('mou_phantom2').addEventListener('input', function(ev) {
                    Ninots.mouPhantoms(ninots2, ev.target.value); 
                });
                document.getElementById('mou_auto2').addEventListener('change', function(ev) {
                    if (ev.target.checked) ninots2.startPhantoms(); else ninots2.stopPhantoms();
                });
                document.getElementById('edit1').addEventListener('change', function(ev) {
                    if (ev.target.checked) ninots.activa_edicio_esquema(); else ninots.desactiva_edicio_esquema();
                });
            });

            function posa_data() {
                ninots.posa_esquema(
                    JSON.parse(
                        document.getElementById('clip_data').value));
            };

            function recupera_data() {
                document.getElementById('clip_data').value = JSON.stringify(ninots.treu_esquema());
            }
            
            function posa_data2() {
                ninots2.posa_esquema(
                    JSON.parse(
                        document.getElementById('clip_data2').value));
            };

            function recupera_data2() {
                document.getElementById('clip_data2').value = JSON.stringify(ninots2.treu_esquema());
            }
            
            window.onresize = function() {
                ninots.resize();
                ninots2.resize();
            };
        </script>
    </head>
    <body>
        <svg id="svg" width="100%" height="400px" style="border:2px;border-style: solid">
        </svg>
        <div id="ninots_data">
            Ninots data :
            <button id="recupera_data" onclick="recupera_data()">Recupera</button>
            <button id="posa_data" onclick="posa_data()">Posa</button>
            <textarea width="100%" rows="8" id="clip_data"></textarea>
        </div>
        <div>
            <span class="test_option_box">Phantoms: <input type="range" id="mou_phantom1" /><input type="checkbox" id="mou_auto1" checked /></span>
            <span class="test_option_box">Edit: <input type="checkbox" id="edit1" checked /></span>
        </div>
        <hr />
        <svg id="svg2" width="100%" height="400px" style="border:2px;border-style: solid">
        </svg>
        <div id="ninots_data">
            <textarea width="100%" rows="8" id="clip_data2"></textarea>
            <button id="recupera_data2" onclick="recupera_data2()">Recupera</button>
            <button id="posa_data2" onclick="posa_data2()">Posa</button>
        </div>
        <div>
            <span class="test_option_box">Phantoms: <input type="range" id="mou_phantom2" /><input type="checkbox" id="mou_auto2" checked /></span>
            <span class="test_option_box">Edit: <input type="checkbox" id="edit2" checked /></span>
        </div>
    </body>


</html>

